var fluxmitter=function(t){return t=t||{},Object.setPrototypeOf(t,fluxmitter),t.events||(t.events={}),t};fluxmitter.emit=function(){var t=[].slice.call(arguments),e=t.shift(),i=[];if(this.events["*"])i=i.concat(this.events["*"]);else if("*"!==e){if(!this.events[e]){if(fluxmitter.strict)throw new Error("fluxmitter violationNo such event "+e);return null}i=this.events[e]}else for(var n in this.events)i=i.concat(this.events[n]);var r=this;return i.map(function(e){var i=e.args.concat(t);return{eventinfo:e,result:e.callback.apply(e.parent||r,i)}})},fluxmitter.on=function(){var t=[].slice.call(arguments),e=t.shift(),i=t.shift(),n=t.shift();if(!i||!e)return null;var r={callback:i,parent:n,args:t};return this.events[e]||(this.events[e]=[]),this.events[e].push(r)},fluxmitter.off=function(){var t=[].slice.call(arguments),e=t.shift(),i=t.shift();return i&&e?(this.events[e]=this.events[e].filter(function(t){return!t.callback===i}),this.events[e]):null},fluxmitter.strict=!1,module.exports=fluxmitter;